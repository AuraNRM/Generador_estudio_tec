<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formulario Exportable</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/estilos.css">
</head>
<body>

  <!-- Header -->
  <header class="text-white text-center py-3">
    <h1>Generador Estudio T√©cnico</h1>
  </header>

  <!-- Men√∫ de navegaci√≥n -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid justify-content-center">
      <div class="navbar-nav">
        <a class="nav-link" href="index.html">Inicio</a>
        <a class="nav-link" href="ficha_tecnica.html">Ficha T√©cnica</a>
        <a class="nav-link" href="pcc.html">Puntos Cr√≠ticos de Control</a>
        <a class="nav-link" href="diagrama_flujo.html">Diagrama de flujo</a>
        <a class="nav-link active" href="trazabilidad.html">Trazabilidad</a>
      </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      
      <!-- Men√∫ vertical con color y borde -->
      <nav class="col-md-3 col-lg-2 d-md-block bg-success sidebar py-4 border-end border-dark" style="min-height: 100vh;">
        <div class="nav flex-column nav-pills" id="menuLateral" role="tablist" aria-orientation="vertical">
          <button class="nav-link text-white active" id="tab-que-es" data-bs-toggle="pill" data-bs-target="#contenido-que-es" type="button" role="tab">¬øQu√© es?</button>
          <button class="nav-link text-white" id="tab-codigo" data-bs-toggle="pill" data-bs-target="#contenido-cuadro" type="button" role="tab">Cuadro de Trazabilidad</button>
          <button class="nav-link text-white" id="tab-codigo" data-bs-toggle="pill" data-bs-target="#contenido-codigo" type="button" role="tab">C√≥digo de barras</button>
          <button class="nav-link text-white" id="tab-lote" data-bs-toggle="pill" data-bs-target="#contenido-lote" type="button" role="tab">Lote</button>
          <button class="nav-link text-white" id="tab-qr" data-bs-toggle="pill" data-bs-target="#contenido-qr" type="button" role="tab">QR</button>
          <button class="nav-link text-white" id="tab-sellos" data-bs-toggle="pill" data-bs-target="#contenido-sellos" type="button" role="tab">Sellos de advertencia</button>
        </div>
      </nav>

      <!-- Panel de contenido con borde -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4 border-start border-dark">
        <div class="tab-content" id="panelContenido">
          <div class="tab-pane fade show active" id="contenido-que-es" role="tabpanel">
            <h3>Trazabilidad</h3>
            <p>En el estudio t√©cnico de un proyecto de agroindustria alimentaria, la trazabilidad se refiere a la capacidad de seguir el recorrido de un alimento, desde su origen hasta el consumidor final, registrando cada etapa del proceso: producci√≥n, transformaci√≥n, empaque, almacenamiento, distribuci√≥n y comercializaci√≥n.</p>
            <p>üìå ¬øPor qu√© es importante incluir la trazabilidad en el estudio t√©cnico?
              Porque permite:
              <br><br>
              üîπ Garantizar la seguridad alimentaria: En caso de detectarse un problema (como contaminaci√≥n o presencia de al√©rgenos), se puede identificar y retirar r√°pidamente el lote afectado.
              <br>
              üîπ Cumplir con normativas sanitarias y de calidad, tanto nacionales como internacionales.
              <br>
              üîπ Mejorar la confianza del consumidor, demostrando transparencia en los procesos.
              <br>
              üîπ Controlar y optimizar procesos internos, al poder identificar puntos cr√≠ticos o ineficiencias.</p>
              <p>üìä ¬øQu√© se debe incluir sobre trazabilidad en el estudio t√©cnico?
                Dentro del estudio t√©cnico, la trazabilidad se describe como parte del proceso productivo y del sistema de control de calidad. Puedes incluir:
                <br><br>
                üîπ Sistema de identificaci√≥n de lotes (c√≥digos, fechas, proveedores, ubicaci√≥n).
                <br>
                üîπ Registros por etapas: materias primas (origen, fecha), procesos (tipo, tiempo, condiciones), producto terminado (fecha de empaque, n√∫mero de lote).
                <br>
                üîπ M√©todo de registro: manual o digital (uso de software, c√≥digos QR, etiquetas RFID).
                <br>
                üîπ Planes de contingencia ante incidentes o fallas en la cadena.
                <br>
                üîπ Responsables del seguimiento en cada etapa.</p>
          </div>

          <div class="tab-pane fade" id="contenido-cuadro" role="tabpanel">
            <h3>Cuadro de Trazabilidad</h3>
            <p>Este cuadro permite a los estudiantes redactar textos relacionados con las etapas del proceso: antes, durante y despu√©s.</p>
            <div class="container mt-5">
              <form id="trazabilidadForm">
                <div class="row mb-3">
                  <label for="antes" class="col-sm-2 col-form-label">Antes del proceso</label>
                  <div class="col-sm-8">
                    <textarea class="form-control" id="antes" rows="3" placeholder="Escribe aqu√≠..."></textarea>
                  </div>
                  <div class="col-sm-2">
                    <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#modalAntes">Ayuda</button>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="durante" class="col-sm-2 col-form-label">Durante el proceso</label>
                  <div class="col-sm-8">
                    <textarea class="form-control" id="durante" rows="3" placeholder="Escribe aqu√≠..."></textarea>
                  </div>
                  <div class="col-sm-2">
                    <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#modalDurante">Ayuda</button>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="despues" class="col-sm-2 col-form-label">Despu√©s del proceso</label>
                  <div class="col-sm-8">
                    <textarea class="form-control" id="despues" rows="3" placeholder="Escribe aqu√≠..."></textarea>
                  </div>
                  <div class="col-sm-2">
                    <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#modalDespues">Ayuda</button>
                  </div>
                </div>
                <div class="text-end">
                  <button type="button" class="btn btn-success" onclick="exportarExcel()">Descargar como Excel</button>
                </div>
              </form>
            </div>
          
            <!-- Modal Antes -->
            <div class="modal fade" id="modalAntes" tabindex="-1" aria-labelledby="modalAntesLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalAntesLabel">Ejemplo - Antes del proceso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                  </div>
                  <div class="modal-body">
                    <p>Ejemplo: "Antes de iniciar el experimento, se deben reunir todos los materiales necesarios y revisar el procedimiento."</p>
                    <div class="ratio ratio-16x9">
                      <iframe src="https://www.youtube.com/embed/VIDEO_ID_ANTES" title="Video de ejemplo - Antes del proceso" allowfullscreen></iframe>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          
            <!-- Modal Durante -->
            <div class="modal fade" id="modalDurante" tabindex="-1" aria-labelledby="modalDuranteLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalDuranteLabel">Ejemplo - Durante el proceso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                  </div>
                  <div class="modal-body">
                    <p>Ejemplo: "Durante el experimento, se debe observar cuidadosamente y registrar cualquier cambio que ocurra."</p>
                    <div class="ratio ratio-16x9">
                      <iframe src="https://www.youtube.com/embed/VIDEO_ID_DURANTE" title="Video de ejemplo - Durante el proceso" allowfullscreen></iframe>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          
            <!-- Modal Despu√©s -->
            <div class="modal fade" id="modalDespues" tabindex="-1" aria-labelledby="modalDespuesLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalDespuesLabel">Ejemplo - Despu√©s del proceso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                  </div>
                  <div class="modal-body">
                    <p>Ejemplo: "Despu√©s de finalizar el experimento, se deben analizar los resultados y discutir las conclusiones."</p>
                    <div class="ratio ratio-16x9">
                      <iframe src="https://www.youtube.com/embed/VIDEO_ID_DESPUES" title="Video de ejemplo - Despu√©s del proceso" allowfullscreen></iframe>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--Codigos de barras-->
          <div class="tab-pane fade" id="contenido-codigo" role="tabpanel">
            <h3>C√≥digo de barras</h3>
            <p>El c√≥digo de barras es una representaci√≥n gr√°fica de datos que puede ser le√≠da por esc√°neres para identificar productos.</p>
            <iframe src="https://www.labeljoy.com/generar-codigo-de-barras-gratis/" width="90%" height="400" frameborder="0"></iframe>
          </div>

          <!--Menu del lote-->
          <div class="tab-pane fade" id="contenido-lote" role="tabpanel">
            <h3>Lote</h3>
            <p>El n√∫mero de lote permite rastrear la fabricaci√≥n y distribuci√≥n de productos, siendo √∫til en control de calidad y trazabilidad.</p>
            <div class="container mt-5">

              <h3 class="mt-5">Estructura de Lote</h3>
      
              <table class="table table-bordered">
                  <thead class="table-light">
                      <tr>
                          <th>Elemento del c√≥digo</th>
                          <th>Descripci√≥n</th>
                          <th>Ejemplo</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td>Tipo de producto</td>
                          <td>Abreviatura o c√≥digo del producto</td>
                          <td>MER (mermelada)</td>
                      </tr>
                      <tr>
                          <td>Fecha de producci√≥n</td>
                          <td>A√±o-mes-d√≠a o d√≠a juliano</td>
                          <td>240420 o 24111</td>
                      </tr>
                      <tr>
                          <td>Turno o jornada</td>
                          <td>Opcional: si hay turnos</td>
                          <td>T1 (ma√±ana)</td>
                      </tr>
                      <tr>
                          <td>N¬∞ de lote del d√≠a</td>
                          <td>Secuencia de lotes por jornada</td>
                          <td>L01</td>
                      </tr>
                  </tbody>
              </table>
      
              <h3 class="mt-4">Ejemplos de C√≥digo de Lote</h3>
              <ul>
                  <li><strong>MER-240420-L01</strong>: Mermelada del 20 de abril, primer lote del d√≠a.</li>
                  <li><strong>YOG-24111-T2-L03</strong>: Yogur del d√≠a 111 (20 abril), turno tarde, tercer lote.</li>
                  <li><strong>JUG-240420-P01-L02</strong>: Jugo, proveedor 01, segundo lote del d√≠a.</li>
              </ul>
      
              <h3 class="mt-5">Estructura m√≠nima sugerida</h3>
              <p><code>[PRODUCTO]-[FECHA]-[LOTE]</code></p>
              <p>Ejemplo: <strong>MER-250421-L01</strong></p>
      
              <h3 class="mt-5">Registro de Lote</h3>
              <table class="table table-striped">
                  <thead class="table-dark">
                      <tr>
                          <th>C√≥digo de Lote</th>
                          <th>Producto</th>
                          <th>Fecha</th>
                          <th>Turno</th>
                          <th>Materia Prima</th>
                          <th>Responsable</th>
                          <th>Observaciones</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td>MER-250421-L01</td>
                          <td>Mermelada de fresa</td>
                          <td>2025-04-21</td>
                          <td>Ma√±ana</td>
                          <td>Fresas (Parcela 3)</td>
                          <td>Juan R√≠os</td>
                          <td>Todo en condiciones normales</td>
                      </tr>
                  </tbody>
              </table>
          </div>
          <p> Por favor genera una estructura para los lotes de tu producto que sean secuenciales e identifiquen las producciones, guiate por los ejemplos de arriba y socializalo con la docente Nelsy! </p>
          </div>
          <div class="tab-pane fade" id="contenido-qr" role="tabpanel">
            <h3>QR</h3>
            <p>Usa la herramienta a continuaci√≥n para generar tu propio c√≥digo QR. Ingresa el usuario del instagram de tu emprendimiento/proyecto y luego da clic derecho encima del QR generado y guarda la imagen.</p>
                <!-- IFRAME CON EL GENERADOR DE QR -->
                <iframe src="https://dash.elfsight.com/widget/3a0144bb-26f9-4983-9302-6e03a4deb7c9" width="100%" height="500" style="border:1px solid #ccc; border-radius: 8px;"></iframe> 
          </div>

          <!--Sellos de advertencia-->
          <div class="tab-pane fade" id="contenido-sellos" role="tabpanel">
            <h3 class="mt-3">Sellos de Advertencia en Alimentos - Colombia</h3>
            <p>Son etiquetas que alertan sobre contenido excesivo de calor√≠as, sodio o az√∫cares en productos procesados.</p>
            <p>A continuaci√≥n selecciona los sellos que apliquen a tu producto:</p>
          
            <form id="sellos-form">
              <div class="row g-4">
                
                <div class="col-md-12 d-flex border rounded p-3 align-items-center">
                  <input class="form-check-input me-3" type="checkbox" id="azucares" name="sello" value="azucares" />
                  <div class="me-4">
                    <img src="images/azucares.png" alt="Alto en Az√∫cares" width="100" />
                  </div>
                  <div>
                    <h5>Alto en Az√∫cares</h5>
                    <p>Indica que el producto supera los niveles permitidos de az√∫cares.</p>
                    <p><strong>Ejemplo:</strong> Bebidas gaseosas azucaradas.</p>
                    <p><strong>L√≠mite:</strong> >10g de az√∫cares libres por 100ml (l√≠quidos) o 100g (s√≥lidos).</p>
                  </div>
                </div>
          
               
                <div class="col-md-12 d-flex border rounded p-3 align-items-center">
                  <input class="form-check-input me-3" type="checkbox" id="sodio" name="sello" value="sodio" />
                  <div class="me-4">
                    <img src="images/sodio.png" alt="Alto en Sodio" width="100" />
                  </div>
                  <div>
                    <h5>Alto en Sodio</h5>
                    <p>Se coloca en productos con alto contenido de sal o sodio.</p>
                    <p><strong>Ejemplo:</strong> Snacks salados, sopas en polvo.</p>
                    <p><strong>L√≠mite:</strong> >300mg de sodio por 100g.</p>
                  </div>
                </div>
          
                
                <div class="col-md-12 d-flex border rounded p-3 align-items-center">
                  <input class="form-check-input me-3" type="checkbox" id="grasas_sat" name="sello" value="grasas" />
                  <div class="me-4">
                    <img src="images/grasas_sat.png" alt="Alto en Grasas Saturadas" width="100" />
                  </div>
                  <div>
                    <h5>Alto en Grasas Saturadas</h5>
                    <p>Advertencia para productos con grasas perjudiciales.</p>
                    <p><strong>Ejemplo:</strong> Papas fritas, pasteles procesados.</p>
                    <p><strong>L√≠mite:</strong> >4g de grasas saturadas por 100g.</p>
                  </div>
                </div>
                <div class="col-md-12 d-flex border rounded p-3 align-items-center">
                    <input class="form-check-input me-3" type="checkbox" id="grasas_tra" name="sello" value="grasas" />
                    <div class="me-4">
                    <img src="images/trans.png" alt="Alto en Grasas Trans" width="100" />
                    </div>
                    <div>
                    <h5>Alto en Grasas Trans</h5>
                    <p>Indica que el producto contiene niveles de grasas trans superiores al permitido.</p>
                    <p><strong>Ejemplo:</strong> Galletas, margarinas.</p>
                    <p><strong>L√≠mite:</strong> >2g de grasas trans por 100g del producto.</p>
                    </div>
                </div>
        
                <div class="col-md-12 d-flex border rounded p-3 align-items-center">
                    <input class="form-check-input me-3" type="checkbox" id="edulcorantes" name="sello" value="edulcorantes" />
                    <div class="me-4">
                    <img src="images/edulco.png" alt="Contiene Edulcorantes" width="100" />
                    </div>
                    <div>
                    <h5>Contiene Edulcorantes</h5>
                    <p>Indica que el producto incluye edulcorantes no cal√≥ricos o artificiales.</p>
                    <p><strong>Ejemplo:</strong> Yogures light, bebidas diet√©ticas.</p>
                    <p><strong>Advertencia:</strong> No recomendado para ni√±os.</p>
                    </div>
                </div>
        
              </div>
          
              <div class="text-end mt-4">
                <button type="button" class="btn btn-primary" onclick="descargarSellos()">Descargar Sellos Seleccionados</button>
              </div>
            </form>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

 
<!-- Librer√≠as para crear y guardar ZIP con los sellos -->
<script src="js/jszip.min.js"></script>
<script src="js/FileSaver.min.js"></script>
<script src="js/sellos.js"></script>
<script src="js/exportarcuadrotraza.js"></script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx-js-style@0.17.0/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>

  <div id="footer-container"></div>

  <script>
    // Cargar el footer con JavaScript usando innerHTML
    document.getElementById('footer-container').innerHTML = `
      <footer class="bg-success text-white py-4 mt-5">
        <div class="container text-center">
          <p class="mb-1 fw-bold">Proyecto Final - Maestr√≠a en Did√°ctica Educativa</p>
          <p class="mb-1">
            <i class="bi bi-telephone-fill"></i> Celular: <a href="tel:+573001234567" class="text-white text-decoration-none">+57 300 123 4567</a><br>
            <i class="bi bi-envelope-fill"></i> Correo: <a href="mailto:proyecto@maestria.edu.co" class="text-white text-decoration-none">proyecto@maestria.edu.co</a>
          </p>
          <small>&copy; 2025 Todos los derechos reservados.</small>
        </div>
      </footer>
    `;
  </script>

</body>
</html>
